<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Snowyurik&#39;s Blog</title>
    <link>https://snowyurik.github.io/post/</link>
    <description>Recent content in Posts on Snowyurik&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 09 Nov 2022 02:38:59 +0700</lastBuildDate><atom:link href="https://snowyurik.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Hugo feedback problem</title>
      <link>https://snowyurik.github.io/post/hugo-feedback-problem/</link>
      <pubDate>Wed, 09 Nov 2022 02:38:59 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/hugo-feedback-problem/</guid>
      <description>&lt;p&gt;Ok I have this static blog now, it&amp;rsquo;s kind of useful for myslef, but I have no idea if anyone else read it.
I can use some 3rd party js based tracker, but adblockers will cancel them and I that&amp;rsquo;s feels right.
As for this blog is static website and hosted on github pages I can&amp;rsquo;t count visitors myself on server side.&lt;/p&gt;
&lt;p&gt;So there is no obvious solution. So, let&amp;rsquo;s get a stap back and view bigger picture&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-purpose-of-counting-visitors&#34;&gt;What is the purpose of counting visitors?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;I need some feedback for psychological comfort. Actually, this is main reason. Pointless work lead to depression, so it should be avoided.
1.1. The blog itself is a feedback for finding solution for some complicated situations.&lt;/li&gt;
&lt;li&gt;I want to know what pasts are good and what posts are bullshit.&lt;/li&gt;
&lt;li&gt;In crisis times I want to use every opprotunity to earn something, do I have any opprtunities here?&lt;/li&gt;
&lt;li&gt;In wealthy times I want to help other people to become wealthy, because &lt;code&gt;economy of scale&lt;/code&gt; magical effect on infrastructure which I use. More digital nomads -&amp;gt; cheaper flights, you know.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-can-i-achieve-this-goals-without-counting-visitors&#34;&gt;How can I achieve this goals &lt;em&gt;without&lt;/em&gt; counting visitors?&lt;/h3&gt;
&lt;p&gt;A few raw ideas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Donations might be better metric. Bots do not donate, you know. I do not think I will ever receive much, but donation require some effort, so I will be sure that people really like something. Even if it&amp;rsquo;s 0.0000000000000000001 cents.&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Hmm, maybe paid comments will be nice? At least I will have resources to moderate them and to answer questions in time.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Mention of my blog on other websites. However, if I will post link to my blog somewhere that will ruin the metric.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Hireme&amp;rdquo; is there, but it would be rare case anyway.&lt;/li&gt;
&lt;li&gt;I can see traffic for my github projects, that can be affected by blog indirectly, but.. too indirectly&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Donations looks like the best option for now&amp;hellip;&lt;/p&gt;
&lt;p&gt;.. sounds of investigation process &amp;hellip;&lt;/p&gt;
&lt;p&gt;Ok, I&amp;rsquo;ve registred on &amp;ldquo;Buy me a coffee&amp;rdquo;. Here is the link &lt;a href=&#34;https://www.buymeacoffee.com/snowyurik&#34;&gt;https://www.buymeacoffee.com/snowyurik&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-to-add-buy-me-a-coffee-to-hugo-website&#34;&gt;How to add &amp;ldquo;buy me a coffee&amp;rdquo; to hugo website?&lt;/h3&gt;
&lt;p&gt;Let&amp;rsquo;s see..&lt;/p&gt;
&lt;p&gt;Maybe for other themes it will be different, but at least for &lt;code&gt;binario&lt;/code&gt; theme:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to &lt;code&gt;themes/binario/layouts/_default/baseof.html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;&amp;lt;script&amp;gt;..&lt;/code&gt; from Buy me a coffee there, widget will appear on all pages.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ok, done with that.&lt;/p&gt;
&lt;h3 id=&#34;custom-color-for--buy-me-a-coffee-widget&#34;&gt;Custom color for  &amp;ldquo;buy me a coffee&amp;rdquo; widget&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;script &amp;gt;..&lt;/code&gt; has a parameter &lt;code&gt;data-color&lt;/code&gt;, lets change it and see what happen.. that affects only the circle and it&amp;rsquo;s iframe. As for as I remember we can access iframe, but I do not want to dig it righ now. So lets leave it as is.&lt;/p&gt;
&lt;h3 id=&#34;can-i-make-the-coffee-cost-less&#34;&gt;Can I make &lt;em&gt;the coffee&lt;/em&gt; cost less?&lt;/h3&gt;
&lt;p&gt;I do not really care about money here, I will better receive more frequent feedback. Let&amp;rsquo;s see if I can change minimal donation..&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s here &lt;a href=&#34;https://www.buymeacoffee.com/page-settings,&#34;&gt;https://www.buymeacoffee.com/page-settings,&lt;/a&gt; so I&amp;rsquo;m switching from 5$ (which is default) to 1$(which is minimal). Checking if it works.. nice ðŸ˜Š&lt;/p&gt;
&lt;p&gt;Ok, if you want to say something about it - feel free to add comment to 1$ donation using the widget in right bottom corner ðŸ˜…&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Just a few useful .bashrc changes</title>
      <link>https://snowyurik.github.io/post/just-a-few-useful-bashrc/</link>
      <pubDate>Wed, 09 Nov 2022 01:47:19 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/just-a-few-useful-bashrc/</guid>
      <description>&lt;p&gt;I found it useful to write wrappers for some commands and put them in ~/.bashrc. When:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If command is too long to memorise&lt;/li&gt;
&lt;li&gt;If command is not self-explainary&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;here-are-some&#34;&gt;Here are some:&lt;/h2&gt;
&lt;h3 id=&#34;start-new-process-in-parallel-suppress-stdoutstderr-and-unlink-from-current-console&#34;&gt;Start new process in parallel, suppress stdout/stderr and unlink from current console&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;parallel() {
    nohup $@ &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;  
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Usage&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;parallel command arg1 arg2 arg3 ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Example&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;parallel kate .
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This will open current folder in kate editor.&lt;/p&gt;
&lt;h3 id=&#34;record-video-from-screen-with-ffmpeg&#34;&gt;Record video from screen with ffmpeg&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;capturescreen() {
    ffmpeg -video_size 1920x1080 -framerate 25 -f x11grab -i :0.0+0,0 $1
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Usage&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;capturescreen outfile.mp4
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;git-branch-but-sorted-by-last-commit-date-and-with-description&#34;&gt;git branch, but sorted by last commit date and with description&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;gitbranches() {
    branch=&amp;quot;&amp;quot;
    branches=`git branch $@`
    while read -r branch; do
        clean_branch_name=${branch//\*\ /}
        description=`git config branch.$clean_branch_name.description`
        lastcommitdate=`git for-each-ref --sort=committerdate &amp;quot;refs/heads/**/${clean_branch_name}&amp;quot; --format=&#39;%(committerdate:short)&#39;`
        if [ &amp;quot;$clean_branch_name&amp;quot; != &amp;quot;$branch&amp;quot; ]; then
            printf &amp;quot;\033[0;32m&amp;quot;;
        fi;
        printf &amp;quot;%-15s %s\n&amp;quot; &amp;quot;$branch    [$lastcommitdate]   $description&amp;quot;
        if [ &amp;quot;$clean_branch_name&amp;quot; != &amp;quot;$branch&amp;quot; ]; then
            printf &amp;quot;\033[0m&amp;quot;;
        fi;
    done &amp;lt;&amp;lt;&amp;lt; &amp;quot;$branches&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Useful if you use branch per task, like in GitFlow. You can pass &lt;code&gt;git branch&lt;/code&gt; attributes to this function as usual&lt;/p&gt;
&lt;p&gt;Example&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gitbranches --no-merged
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;init-envvars-for-my-current-projects&#34;&gt;Init envvars for my current projects&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;initmyenv() {
    if ! [[ &amp;quot;$PATH&amp;quot; =~ &amp;quot;$HOME//scripts:&amp;quot; ]]
    then
        PATH=&amp;quot;$HOME//scripts:$PATH&amp;quot;
    fi
    export PATH
    export PROJECT1_DBCONNECT=&amp;quot;Server=localhost;Database=project1;User Id=sa;Password=somepw;&amp;quot;
    export PROJECT2_DBCONNECT=&amp;quot;Server=localhost;Database=project2;User Id=sa;Password=somepw;&amp;quot;
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Btw, whis way you do not leak you db password to git. Search 12factor for more )&lt;/p&gt;
&lt;h3 id=&#34;show-git-graph-in-text-mode&#34;&gt;Show git graph in text mode&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;gitgraph() {
    git log --graph --full-history --all --color --pretty=format:&amp;quot;%x1b[31m%h%x09%x1b[32m%d%x1b[0m%x20%s&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;help-for-my-ustom-commands&#34;&gt;Help for my ustom commands&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;helb() {
    echo &amp;quot;.. i need sombody, heeeelb&amp;quot;;
    echo &amp;quot;
        parallel &amp;lt;cmd&amp;gt; &amp;lt;args&amp;gt;   - run command in parallel and forward stderr and stdout to /dev/null
        gitgraph                - display git log in nice form, with branch tree
        gitbranches             - display git branch with descriptions
        capturescreen   &amp;lt;outfile&amp;gt; - wrapper for ffmpeg -video_size 1920x1080 -framerate 25 -f x11grab -i :0.0+0,0 file.mp4
    &amp;quot;;
    # also show my custom scripts
    ls -1 ~/scripts
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I put call to  &lt;code&gt;helb&lt;/code&gt; at the end of .bashrc, so every time I run new console I can see it.
That&amp;rsquo;s it )&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>ResultMatcher for .addExpect</title>
      <link>https://snowyurik.github.io/post/webmvctest-custom-add-expect-result-matcher/</link>
      <pubDate>Sun, 06 Nov 2022 00:49:22 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/webmvctest-custom-add-expect-result-matcher/</guid>
      <description>&lt;p&gt;Let&amp;rsquo;s say we save some list of items and then read it back.
Here is our original list:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;List&amp;lt;MyItem&amp;gt; myItemList = new ArrayList&amp;lt;MyItem&amp;gt;() {{
        add( new MyItem() {{
            title = &amp;quot;Test Item 1&amp;quot;;
        }});
        add( ... );
        ...
    }};
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And we have mockMvc defined like:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@Autowired MockMvc mvc;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We can store the list with &lt;code&gt;mvc.perform( put(&amp;quot;/api/myitem/list&amp;quot; )).andExpect( status().isOk() )&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We can read the list with &lt;code&gt;mvc.perform( get(&amp;quot;/api/myitem/list&amp;quot; )).andExpect( status().isOk() )&lt;/code&gt;.
But!&lt;/p&gt;
&lt;h3 id=&#34;the-problem&#34;&gt;The problem&lt;/h3&gt;
&lt;p&gt;We do not have database ids in our original list.
So &lt;code&gt;.andExpect( content().json( myItemListAsJsonString ) )&lt;/code&gt; will give us false-negative result.&lt;/p&gt;
&lt;h3 id=&#34;solution---use-lambda-callback-for-comparison&#34;&gt;Solution - use lambda callback for comparison&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;this.mvc.perform(get(&amp;quot;/api/myitem/list&amp;quot;))
    .andExpect( status().isOk() )
    .andExpect( (result)-&amp;gt;{ // lambda for ResultMatcher
                            // return void
                            // if result not match expectation - we should throw exception
    
        String jsonString = result.getResponse().getContentAsString();
        List&amp;lt;MyItem&amp;gt; storedMyItemList = objectMapper.readValue(jsonString, 
                                            new TypeReference&amp;lt;List&amp;lt;MyItem&amp;gt;&amp;gt;(){});
        for( MyItem storedItem : storedMyItemList) {
            myItemList.stream().filter( x -&amp;gt; storedItem.title.equals(x.title))
                .findFirst().orElseThrow(
                    () -&amp;gt; { // lambda for exception
                        throw new AssertionError(&amp;quot;MyItem not found, expected: \n&amp;quot;
                            + myItemListAsJsonString + &amp;quot;\nactual: \n&amp;quot; + jsonString
                            + &amp;quot;myitem.id field is ignored&amp;quot;
                        );
                    }
                );
        }
    });
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Maven multimodule project with Spring Boot</title>
      <link>https://snowyurik.github.io/post/mvn.spring.boot.multimodule/</link>
      <pubDate>Fri, 28 Oct 2022 18:30:30 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/mvn.spring.boot.multimodule/</guid>
      <description>&lt;p&gt;I will try to be close to real task here.
Lets say we have RestAPI web application, command line application for manupulating with secure data (installation, initial user creation, etc).
Both will work with same data, so we need 3rd project which will be linked as dependency from cli and web.&lt;/p&gt;
&lt;h2 id=&#34;folder-structure&#34;&gt;Folder structure&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;rootProject
 -&amp;gt; datalib
 -&amp;gt; cli
 -&amp;gt; web
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;project-types&#34;&gt;Project types&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rootProject/pom.xml&lt;/code&gt; should refer to type &lt;code&gt;pom&lt;/code&gt;. Type &lt;code&gt;pom&lt;/code&gt; means that rootProject is just a place for references from the other projects. There is no &lt;code&gt;target&lt;/code&gt;, no .jar files for the rooProject, it&amp;rsquo;s used by subprojects (aka modules) to find each other, plus if you have same dependensy in different subprojects you can only mention them once in &lt;code&gt;rootProject/pom.xml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;All subprojects / modules will have type &lt;code&gt;jar&lt;/code&gt; in our case. So build will produce .jar files.&lt;/p&gt;
&lt;h2 id=&#34;linking-everything-together&#34;&gt;Linking everything together&lt;/h2&gt;
&lt;h3 id=&#34;package-name&#34;&gt;Package name&lt;/h3&gt;
&lt;p&gt;Package name aka namespace has to be the same for rootProject and submodules.&lt;/p&gt;
&lt;h3 id=&#34;groupid&#34;&gt;GroupID&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;project/groupId&lt;/code&gt; also has to be the same for rootProject and submodules, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;project ..&amp;gt;
  ...
  &amp;lt;groupId&amp;gt;org.rootProject&amp;lt;/groupId&amp;gt;
  ...
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;rootproject-has-to-link-to-all-modules&#34;&gt;RootProject has to link to all modules:&lt;/h3&gt;
&lt;p&gt;file: rootProject/pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;project ..&amp;gt;
  ...
  &amp;lt;!-- modules --&amp;gt;
  &amp;lt;modules&amp;gt;
    &amp;lt;module&amp;gt;web&amp;lt;/module&amp;gt;
    &amp;lt;module&amp;gt;cli&amp;lt;/module&amp;gt;
    &amp;lt;module&amp;gt;datalib&amp;lt;/module&amp;gt;
  &amp;lt;/modules&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;modules-has-to-link-rootproject-as-a-parent&#34;&gt;Modules has to link rootProject as a parent&lt;/h3&gt;
&lt;p&gt;files: rootProject/cli/pom.xml, rootProject/web/pom.xml, rootProject/datalib/pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;project&amp;gt;
    ...
    &amp;lt;parent&amp;gt;
        &amp;lt;artifactId&amp;gt;rootProject&amp;lt;/artifactId&amp;gt;
        &amp;lt;groupId&amp;gt;org.rootProject&amp;lt;/groupId&amp;gt;
        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;/parent&amp;gt;
    ...
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;but-wait-spring-has-to-be-parent-project-too&#34;&gt;But wait! Spring has to be parent project too!&lt;/h3&gt;
&lt;p&gt;Obviously, we can&amp;rsquo;t have 2 parants for the module.
So we have to move spring reference to rootProject/pom.xml.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;project&amp;gt;
    &amp;lt;groupId&amp;gt;org.rootProject&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;rootProject&amp;lt;/artifactId&amp;gt;
    &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;name&amp;gt;rootProject&amp;lt;/name&amp;gt;
    
    &amp;lt;parent&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.7.4&amp;lt;/version&amp;gt;
        &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt;
    &amp;lt;/parent&amp;gt;
    ...
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Hierarhy is like this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Spring Boot&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;rootProject&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;web&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;cli&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;datalib&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;using-one-module-from-another&#34;&gt;Using one module from another&lt;/h3&gt;
&lt;p&gt;Right now, our modules know about rootProject but they do not know about each other. Datalib will be used in cli and web, so we need to add dependency:&lt;/p&gt;
&lt;p&gt;files: rootProject/cli/pom.xml, rootProject/web/pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;project&amp;gt;
    ...
    &amp;lt;dependencies&amp;gt;
		&amp;lt;dependency&amp;gt;
			&amp;lt;groupId&amp;gt;org.rootProject&amp;lt;/groupId&amp;gt;
			&amp;lt;artifactId&amp;gt;datalib&amp;lt;/artifactId&amp;gt;
			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;
			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
			&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;
		&amp;lt;/dependency&amp;gt;
		...
    &amp;lt;/dependencies&amp;gt;
    ...
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;build-commands&#34;&gt;Build commands&lt;/h3&gt;
&lt;p&gt;That&amp;rsquo;s a bit counterintuitive. You need 2 commands:&lt;/p&gt;
&lt;p&gt;From rootProject/&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn clean install
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;will build all projects in correct order and place relusting .jar files in local storage, where java will be able to find them.
To run maven commands on subproject, you need to use -pl and -am, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn -am -pl web spring-boot:run
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn -am -pl cli test
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;-am&lt;/code&gt; means &amp;ldquo;take dependencies into consideration&amp;rdquo; without that you might get &lt;code&gt;symbol not found&lt;/code&gt; error.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-pl&lt;/code&gt; just short for &amp;ndash;project and thats just set context to module.&lt;/p&gt;
&lt;h3 id=&#34;spring-is-this-loose-coupled-not-that-loose-coupled&#34;&gt;Spring is this loose coupled, not that loose coupled&lt;/h3&gt;
&lt;p&gt;You king of can use spring only for web module, but you will need to create wrapper components for datalib classes. And I don&amp;rsquo;t think it&amp;rsquo;s possible to use Spring based datalib in cli if cli is not Spring based. But I might be wrong.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>A bit of everyday hugo commands</title>
      <link>https://snowyurik.github.io/post/hugocommands/</link>
      <pubDate>Fri, 28 Oct 2022 01:44:42 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/hugocommands/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m using Hugo as blog engine. So, here is a bit of cli commands&lt;/p&gt;
&lt;h3 id=&#34;create-new-post&#34;&gt;Create new post&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;hugo new post/postname.md
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;formatting-in-summary&#34;&gt;Formatting in summary&lt;/h3&gt;
&lt;p&gt;By default summary is plain text, soo.. just use &lt;code&gt;&amp;lt;!--mÐ¾re--&amp;gt;&lt;/code&gt; and formatting will work in summary.
I&amp;rsquo;m going to make most of posts just only summary, maybe I can change hugo code, to add &lt;code&gt;&amp;lt;!--mÐ¾re--&amp;gt;&lt;/code&gt; automatically?&lt;/p&gt;
&lt;p&gt;Lets try..&lt;/p&gt;
&lt;p&gt;Yes, I can change &lt;code&gt;archetypes/default.md&lt;/code&gt;.
And I also want draft to be false by default.. here we go:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
title: &amp;quot;{{ replace .Name &amp;quot;-&amp;quot; &amp;quot; &amp;quot; | title }}&amp;quot;
date: {{ .Date }}
draft: false
---

&amp;lt;!--mÐ¾re--&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Btw: I used Cyrillic &amp;lsquo;o&amp;rsquo; in &amp;lsquo;more&amp;rsquo;, otherwise it breaks layout. Maybe there is better solution, but I do not think I will need to talk about &lt;code&gt;&amp;lt;!--mÐ¾re--&amp;gt;&lt;/code&gt; again any time soon.&lt;/p&gt;
&lt;h3 id=&#34;publish-post&#34;&gt;Publish post&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Go to post header section (top of .md file)&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;draft: true&lt;/code&gt; or replace it with &lt;code&gt;draft:false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;run-locally&#34;&gt;Run locally&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;hugo server -D
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Will run hugo server in &amp;ldquo;development&amp;rdquo; mode, draft blogs are visible&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;hugo server
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;will run it in &amp;ldquo;release&amp;rdquo; mode&lt;/p&gt;
&lt;h3 id=&#34;deploy&#34;&gt;Deploy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;We need 2 repositories:
&amp;ndash; One is our root repository with themes and all raw data
&amp;ndash; Subproject liked to &lt;code&gt;%blogname%.github.io&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;So &lt;code&gt;git add %ssh.link.to.blogname.project.on.github% public&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hugo&lt;/code&gt; command will compile static html content to &lt;code&gt;public&lt;/code&gt; folder&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd public &amp;amp;&amp;amp; git add . &amp;amp;&amp;amp; git commit -m &#39;whatever&#39; &amp;amp;&amp;amp; git push&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also: README.md has a priority over index.html, so, remove it if you had added it during project creation.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>So, it&#39;s crisis time</title>
      <link>https://snowyurik.github.io/post/initblog/</link>
      <pubDate>Fri, 28 Oct 2022 01:28:11 +0700</pubDate>
      
      <guid>https://snowyurik.github.io/post/initblog/</guid>
      <description>&lt;p&gt;Hosting services become unpredictable this days. The fact is: you can loose access to your content.
Using &amp;ldquo;discipline&amp;rdquo; for content backup does not work long term, even if backups are automated.
But there is solution:&lt;/p&gt;
&lt;p&gt;If you create workflow where contenets can only published if you already have a backup - you will always have a backup.&lt;/p&gt;
&lt;p&gt;So, here we are: on githun.io, aka github pages.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Even if I will lose access to github - I will have it all on my laptop.&lt;/li&gt;
&lt;li&gt;If I will lose my laptop - I will be able to restore cotent from git&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the past I had a blog build around transparency idea, more like diary. However.. this time I think I should focus.
But we will see.&lt;/p&gt;
&lt;p&gt;Right now, I will focus on 2 topics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Techical tips, because there are a lot of new technologies which require too much search for simple things.&lt;/li&gt;
&lt;li&gt;Digital nomad life tips, like &amp;ldquo;How to get cheap fresh water in Thailand&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Basically, anything that takes more than a day to figure out might worth posting.&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
