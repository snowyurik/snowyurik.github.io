<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Posts | Snowyurik&#39;s Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="yandex-verification" content="11817d5c29245445" />
	<meta name="description" content="">
	<link rel="alternate"
      type="application/rss+xml"
      href="https://snowyurik.vihv.org//index.xml"
      title="Snowyurik&#39;s Blog">
	<link rel="stylesheet" href="/css/bundle.css">
	<link rel="icon" href="/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="/icons/32.png" sizes="32x32" type="image/png">
	<link rel="alternate" type="application/rss+xml" href="/post/index.xml" title="Snowyurik's Blog">
		
	<link rel="stylesheet" href="/highlight-api-smooth.css">
	<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="snowyurik" data-description="Support me on Buy me a coffee!" data-message="Questions / Comments / Feedback / Donate" data-color="#d89700" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-15855473-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-15855473-1');
	</script>
</head>
<body class="body kind-section">
	<header class="header">
	<a class="logo" href="/">Snowyurik&#39;s Blog</a>
	
<nav class="main-nav" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="/hireme/">
					
					<span class="main-nav__text">Contacts (hire me!)</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
		<div class="page block">
			<h1 class="page__title">Posts</h1>
			
		</div>
		<div class="cards">
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/oversimplified-prediction-2023/">Oversimplified prediction 2023</a></h1>
	<div class="entry__content"><p>I need to make some .. assumptions about future of IT, it&rsquo;s not accurate at all, based on personal intuition, but here it is:</p>
<ul>
<li>ChatGPT will replace Alice</li>
<li>Kizune AI will reincarnate as Kizune GPT</li>
<li>ReactJS will dissapear, leaving JSX templates as the only trace of existance</li>
<li>Vue.js and Angular will also dissapear</li>
<li>Javascript will dominate desktop application market
(just because having trial version in a browser is a huge marketing advantage)</li>
<li>Python will replace .NET for server applications</li>
<li>Competition between Python and Java Spring will intensify</li>
<li>&ldquo;For Him Who Is Not to be Named&rdquo; aka &ldquo;Hydrated Iron Oxide&rdquo; will dissapear, due to reasons <a href="https://www.youtube.com/watch?v=gutR_LNoZw0">https://www.youtube.com/watch?v=gutR_LNoZw0</a></li>
<li>Amount of desktop apps for Linux will grow</li>
<li>Monetization priority will grow, probably we will have nice online market for opensource apps</li>
</ul></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-04-16T20:06:19&#43;07:00">April 16, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/future/" rel="tag">future</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/frameworks-dont-last-long/">Why frameworks don&#39;t last long?</a></h1>
	<div class="entry__content"><blockquote>
<p>They are costly to maintain</p>
</blockquote>
<p>That&rsquo;s why we have brand new framework every year.</p>
<p>It&rsquo;s kind of weird:</p>
<ul>
<li>Framework without components is just a pattern.</li>
<li>The more components you have, the more successfull will be your framework.</li>
<li>To create competitive minimum of components you need to engage 3rd party devs.</li>
</ul>
<p>However, for 3rd party component creators situation is different:<br>
the more frameworks use your component - the more succesful your component is.</p>
<p>At the end of the day, we have framework-idependent component + set of wrappers.</p>
<p>So, frameworks tend to dissolve and turn back into patterns.
Unless, they have some unique &ldquo;game changing&rdquo; features which are hard to replicate, complicated and bloated.</p>
<p>Here is a fork:</p>
<ul>
<li>If fremework creators refactor framework architecture - that lead to simplification of core features, they become replicatabe, they are replicated, and framework turn into design pattern.</li>
<li>If they do not refactor their code - that lead to complicated legacy code which is impossible to maintain.</li>
</ul>
<p>One way or another - all frameworks are doomed üôÑ</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-04-16T18:50:43&#43;07:00">April 16, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/framework/" rel="tag">framework</a>, 
		<a class="meta-tags__link" href="/tags/architecture/" rel="tag">architecture</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/do-not-trust-trusted-third-party-code-signing/">NEVER trust Trusted Third Party (application signing)</a></h1>
	<div class="entry__content"><p>You might had seen complains from Windows Defender, like &ldquo;unknown publisher&rdquo;.</p>
<p>And if is a developer, you do not want this message to be displayed, so you have to buy certificate from so called &ldquo;trusted third party&rdquo;, and voila.</p>
<p>But.. from end user point of view, does it even make any sence?</p>
<blockquote>
<p>This &ldquo;trusted&rdquo; companies check NOTHING important for end user</p>
</blockquote>
<p>All they do is googling company name. That&rsquo;s all.</p>
<p>You can do it yourself, you can do it better.</p>
<ul>
<li>Do they check the package for viruses? NO!</li>
<li>Will anyone be responsible if the app will damage your data? NO!
Every license agreement have a &ldquo;disclaimer&rdquo; section.</li>
<li>Will &ldquo;trusted&rdquo; third party be responsibe? Of cause not.</li>
<li>Does it guarantee that the copy is legal and not pirated or modified? NO!
In most companies literally everyone has access to this certificates. Why? Because, from the company point of view, the sole purpose of this certificate is to suppress windows defender warning. So, nobody cares. If certificate will leak - company won&rsquo;t lose anything valuable.</li>
</ul>
<p>In fact, self-signed applicationas are more secure. At least, no &ldquo;trusted&rdquo; third party has access to the certificate.</p>
<p>So if (if!) the company want to prevent supply-chain attacks, it can do it.<br>
Will company benefit from preventing supply-chain attacks? ü§î</p>
<p>Also, checksums will actually work better. Attacker would have to hack both app and company website.</p>
<p>So, there is a good idea to check package for viruses.</p>
<p>For example, here you can check it before download: <a href="https://www.virustotal.com/gui/home/url">https://www.virustotal.com/gui/home/url</a></p>
<p>Especially, if the app is signed by certificate issued by &ldquo;trusted&rdquo; third party.</p>
<p>The only argument, &ldquo;trusted&rdquo; third pary companies have for trusting this &ldquo;trusted&rdquo; certificates is: if company can pay, that company is probably big enouth to trust.</p>
<p>REALLY?</p>
<blockquote>
<p>Like we can&rsquo;t remember any big company which add backdoors, spy on users, collect personal data, sell that data to everyone who ask, make unexpected modifications on your disk etc, etc.</p>
</blockquote>
<p>What&rsquo;s I&rsquo;m talking about, things like that never happend. That&rsquo;s just imaginary situation, which has nothing common with reality.</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-03-07T23:32:39&#43;07:00">March 07, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/deploy/" rel="tag">deploy</a>, 
		<a class="meta-tags__link" href="/tags/security/" rel="tag">security</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/agile-why-we-use-todo-work-ready-done-not-red-green-refactor-deploy/">Agile: Why do we use Todo Work Ready Done, instead of Red Green Refactor Deploy?</a></h1>
	<div class="entry__content"><blockquote>
<p>Looks obvious, right? ü§î</p>
</blockquote>
<h2 id="current-setup">Current setup</h2>
<p>In TDD, we use the following sequence:</p>
<ul>
<li>Red: try and fail</li>
<li>Green: fix and confirm</li>
<li>Refactor: polish solution</li>
</ul>
<p>That&rsquo;s 100% solid time-proven sequence. But in Agile/Scrum/Kanban we completely different approach:</p>
<ul>
<li>Todo</li>
<li>Work</li>
<li>Ready</li>
<li>Done</li>
</ul>
<p>Which is not as good as it looks at first sight. That&rsquo;s why Trello and Jira had an option to set custom workflow and custom task states.</p>
<blockquote>
<p>TDD workflow and Agile task workflow does not map to each other in any aspect! ü•≤</p>
</blockquote>
<p>So, why are we doing that? To be more &ldquo;manager friendly&rdquo;? Is it &ldquo;positive thinking&rdquo; which stops as from using the word &ldquo;fail&rdquo;?</p>
<p>Well, we can replace &ldquo;try and fail&rdquo; with &ldquo;try and confirm that feature is not implemented / reproduce the bug&rdquo;, happy?</p>
<h2 id="suggestion">Suggestion</h2>
<p>Maybe we can use sequence like that, for task management:</p>
<ul>
<li>Pick: from heap to sprint backlog</li>
<li>Try/Red: Try it and confirm the issue</li>
<li>Fix/Green: Fix and confirm solution</li>
<li>Polish/Refactor: polish solution</li>
<li>Commit: share changes with the team</li>
<li>Package: aggregate changes into release package</li>
<li>Test: QA team test the package</li>
<li>Deploy: publish package for general public</li>
<li>Collect feedback: from support team, investors, etc.</li>
<li>Fund: get money for next sprint</li>
</ul>
<p>This looks much closer to reality, you know.. üòé</p>
<p>I suggest using <em>Try/Fix/Polish</em> insteard of <em>Red/Green/Refactor</em> to avoid confusion between task management and coding. But that sets maps to each other perfectly! <br>
Also, that&rsquo;s closer to the idea behind SMART criteria.</p>
<p>For in-house projects, it can be simplified to just:</p>
<ul>
<li>Pick</li>
<li>Try</li>
<li>Fix</li>
<li>Polish</li>
<li>Deploy</li>
</ul>
<blockquote>
<p>Why not?</p>
</blockquote></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-01-12T00:40:48&#43;07:00">January 12, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/agile/" rel="tag">Agile</a>, 
		<a class="meta-tags__link" href="/tags/test-driving-development/" rel="tag">Test Driving Development</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/cli-table-draw-python/">CLI table draw in Python</a></h1>
	<div class="entry__content"><blockquote>
<p>Well.. I migrated all my current project to python üòÖ</p>
</blockquote>
<p>Recipie is the same: fill all cells with spaces to maximum column length, then concatenate array representing table row using separator. Flavor with special chars like &ldquo;‚îú&rdquo;.</p>
<p>Implemetation changed from <a href="https://snowyurik.vihv.org/post/php-cli-how-to-draw-table/" title="Php CLI how to draw table">Php CLI how to draw table</a> , but not really much:</p>
<ul>
<li>Multibyte string length:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="nx">mb_strlen</span><span class="p">(</span> <span class="nx">cellContent</span> <span class="p">)</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span> <span class="n">cellContent</span> <span class="p">))</span>
</code></pre></div></li>
<li>Column names:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="nv">$key</span><span class="o">.</span><span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">-</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$key</span><span class="p">))</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">key</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span> <span class="n">maxLenghts</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="p">)</span>
</code></pre></div></li>
<li>Horizontal lines:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34;‚îÄ&#34;</span><span class="p">,</span><span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">])</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="s2">&#34;&#34;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span> <span class="n">maxLenghts</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="s2">&#34;‚îÄ&#34;</span><span class="p">)</span>
</code></pre></div></li>
<li>Data cell:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="nv">$cell</span> <span class="o">.=</span> <span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">,</span> <span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">-</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$cell</span><span class="p">))</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">str</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span> <span class="n">maxLenghts</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="p">)</span>
</code></pre></div><p>(some cells contain numbers, thats why <code>str(..)</code>)</p>
</li>
<li>Drawing table header:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="k">echo</span> <span class="s2">&#34;‚ï≠‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚î¨‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚ïÆ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">&#34;‚îÇ &#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="p">,</span> <span class="nv">$columnNames</span>    <span class="p">)</span><span class="o">.</span><span class="s2">&#34; ‚îÇ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">&#34;‚îú‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚îº‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚î§</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">print</span><span class="p">(</span><span class="s2">&#34;‚ï≠‚îÄ&#34;</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚î¨‚îÄ&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontalLines</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚ïÆ&#34;</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&#34;‚îÇ &#34;</span><span class="o">+</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">columnNames</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>    <span class="p">)</span><span class="o">+</span><span class="s2">&#34; ‚îÇ&#34;</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&#34;‚îú‚îÄ&#34;</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚îº‚îÄ&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontalLines</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚î§&#34;</span><span class="p">);</span>
</code></pre></div><p>Pho associative key/value arrays are python dictionaries, and <code>join</code> will concatenate dictionary keys, not values in python. So we need <code>.values()</code> to turn it into array of values only.</p>
</li>
<li>Drawing data row:
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="k">echo</span> <span class="s2">&#34;‚îÇ &#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="p">,</span> <span class="nv">$row</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34; ‚îÇ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span> 
</code></pre></div><p>bacome</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">print</span><span class="p">(</span><span class="s2">&#34;‚îÇ &#34;</span><span class="o">+</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">+</span><span class="s2">&#34; ‚îÇ&#34;</span><span class="p">)</span>
</code></pre></div></li>
<li>Drawing table footer
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="k">echo</span> <span class="s2">&#34;‚ï∞‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚î¥‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚ïØ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
</code></pre></div><p>become</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">print</span><span class="p">(</span><span class="s2">&#34;‚ï∞‚îÄ&#34;</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚î¥‚îÄ&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontalLines</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">+</span><span class="s2">&#34;‚îÄ‚ïØ&#34;</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<p>That&rsquo;s it üòä</p>
<p>Should I make nice function, like in previous post? ü§î I doubt that it&rsquo;s really nesessary, but if you want it - drop me a message with &ldquo;buy me a coffee&rdquo; widget in bottom-right corner ü§ë</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-01-11T16:26:05&#43;07:00">January 11, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/python/" rel="tag">Python</a>, 
		<a class="meta-tags__link" href="/tags/pseudographics/" rel="tag">Pseudographics</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/php-cli-how-to-draw-table/">Php CLI how to draw table</a></h1>
	<div class="entry__content"><h2 id="the-goal">The goal</h2>
<p>Php shine whenever you work with a lot of text data. So php-cli applications are quite demandable.
But for cli (<strong>c</strong>ommand <strong>l</strong>ine <strong>i</strong>nterface) we do not have all this fancy html tags and css3 styles.
Cli applications are intendent for advanced users, who often want output as stream, which can be directed to next tool in chain.
So, in most cases writing results with simple <em>echo</em> works just fine.. unless you need to add a <em>table</em> to the output.</p>
<h2 id="solution">Solution</h2>
<p>My first idea was to use ncurses, but.. there is much simpler solution.</p>
<blockquote>
<p>All you need is <code>str_repeat()</code></p>
</blockquote>
<p>It&rsquo;s also possible to use <code>str_pad()</code> in some cases. But, unfortunately, <code>str_pad()</code> does not support unicode.</p>
<p>The idea is to calculate max width for every column, and than fill all cells to this width with spaces.
After that, just concatenate array with <code>implode</code> to display each table row.</p>
<p>Example of the following <em>drawTable()</em> function output:</p>
<p><img src="/img/2023-01-10/table.png" alt="php-cli table"></p>
<p>Source code:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>

<span class="sd">/**
</span><span class="sd"> @param Array data - array of table rows
</span><span class="sd"> @return String representing the table
</span><span class="sd"> @example echo drawTable([
</span><span class="sd">    [ &#34;id&#34;=&gt;1, &#34;name&#34;=&gt;&#34;Test A&#34;, &#34;description&#34;=&gt;&#34;short text&#34; ],
</span><span class="sd">    [ &#34;id&#34;=&gt;2, &#34;name&#34;=&gt;&#34;Test B&#34;, &#34;description&#34;=&gt;&#34;long text, describing something&#34; ],
</span><span class="sd">    [ &#34;id&#34;=&gt;3, &#34;name&#34;=&gt;&#34;Test C&#34;, &#34;description&#34;=&gt;&#34;long text with multibyte string √§ √´ √Ø √∂ √º&#34; ],
</span><span class="sd">    [ &#34;id&#34;=&gt;4, &#34;name&#34;=&gt;&#34;Test √∂&#34;, &#34;description&#34;=&gt;&#34;myltybyte in name column&#34; ],
</span><span class="sd">    [ &#34;id&#34;=&gt;5, &#34;name&#34;=&gt;&#34;Test E&#34;, &#34;description&#34;=&gt;&#34;weeeee!!! √§√´√Ø√∂√º √§√´√Ø√∂√º √§√´√Ø√∂√º √§√´√Ø√∂√º √§√´√Ø√∂√º √§√´√Ø√∂√º&#34; ],
</span><span class="sd"> ]);
</span><span class="sd"> */</span>
<span class="k">function</span> <span class="nf">drawTable</span><span class="p">(</span><span class="k">Array</span> <span class="nv">$data</span><span class="p">)</span><span class="o">:</span><span class="nx">String</span> <span class="p">{</span>
    <span class="c1">// sanity check
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$data</span><span class="p">))</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">&#34;&#34;</span><span class="p">;</span> <span class="p">}</span> 
    <span class="c1">// get column names
</span><span class="c1"></span>    <span class="nv">$keys</span> <span class="o">=</span> <span class="nx">array_keys</span><span class="p">(</span> <span class="nx">reset</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span> <span class="p">);</span>
    <span class="c1">// calculate maximum width for each column
</span><span class="c1"></span>    <span class="nv">$columnWidths</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">$keys</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
        <span class="k">foreach</span><span class="p">(</span><span class="nv">$data</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$width</span> <span class="o">=</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$item</span><span class="p">[</span><span class="nv">$key</span><span class="p">]);</span>
            <span class="k">if</span><span class="p">(</span> <span class="nv">$width</span> <span class="o">&gt;</span> <span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$width</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nv">$columnNames</span> <span class="o">=</span> <span class="nv">$horizontalLines</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">foreach</span><span class="p">(</span> <span class="nv">$keys</span> <span class="k">as</span> <span class="nv">$key</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// fill column titles with spaces
</span><span class="c1"></span>        <span class="nv">$columnNames</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$key</span><span class="o">.</span><span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">-</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$key</span><span class="p">));</span> 
        <span class="c1">// prepare horisontal lines
</span><span class="c1"></span>        <span class="nv">$horizontalLines</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">=</span>  <span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34;‚îÄ&#34;</span><span class="p">,</span><span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]);</span> 
    <span class="p">}</span>
    <span class="c1">// fill every cell to max column width
</span><span class="c1"></span>    <span class="nv">$data</span> <span class="o">=</span> <span class="nx">array_map</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$row</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$columnWidths</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">array_walk</span><span class="p">(</span><span class="nv">$row</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$cell</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$columnWidths</span><span class="p">){</span>
            <span class="nv">$cell</span> <span class="o">.=</span> <span class="nx">str_repeat</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">,</span> <span class="nv">$columnWidths</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">-</span> <span class="nx">mb_strlen</span><span class="p">(</span><span class="nv">$cell</span><span class="p">));</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nv">$row</span><span class="p">;</span>
    <span class="p">},</span> <span class="nv">$data</span><span class="p">);</span>
    <span class="nx">ob_start</span><span class="p">();</span>
    <span class="c1">// draw table header
</span><span class="c1"></span>    <span class="k">echo</span> <span class="s2">&#34;‚ï≠‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚î¨‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚ïÆ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">&#34;‚îÇ &#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="p">,</span> <span class="nv">$columnNames</span>    <span class="p">)</span><span class="o">.</span><span class="s2">&#34; ‚îÇ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">&#34;‚îú‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚îº‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚î§</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
    <span class="c1">// draw lines
</span><span class="c1"></span>    <span class="k">foreach</span><span class="p">(</span> <span class="nv">$data</span> <span class="k">as</span> <span class="nv">$row</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&#34;‚îÇ &#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34; ‚îÇ &#34;</span><span class="p">,</span> <span class="nv">$row</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34; ‚îÇ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>        
    <span class="p">}</span>
    <span class="c1">// draw bottom line
</span><span class="c1"></span>    <span class="k">echo</span> <span class="s2">&#34;‚ï∞‚îÄ&#34;</span><span class="o">.</span><span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;‚îÄ‚î¥‚îÄ&#34;</span><span class="p">,</span> <span class="nv">$horizontalLines</span><span class="p">)</span><span class="o">.</span><span class="s2">&#34;‚îÄ‚ïØ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">ob_get_clean</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div><blockquote>
<p>Note: This solution draw to string buffer, not stdout. For actual display use <code>echo drawTable(...)</code></p>
</blockquote>
<p>Of cause, you can just print it to stdout directly, without <code>ob_start()</code>, <code>ob_get_clean()</code> and use different symbols for table borders.</p>
<p>Here, take some:</p>
<pre><code>    ‚îÄ ‚îÅ ‚îÇ ‚îÉ ‚îÑ ‚îÖ ‚îÜ ‚îá ‚îà ‚îâ ‚îä ‚îã ‚îå ‚îç ‚îé ‚îè
    ‚îê ‚îë ‚îí ‚îì ‚îî ‚îï ‚îñ ‚îó ‚îò ‚îô ‚îö ‚îõ ‚îú ‚îù ‚îû ‚îü
    ‚î† ‚î° ‚î¢ ‚î£ ‚î§ ‚î• ‚î¶ ‚îß ‚î® ‚î© ‚î™ ‚î´ ‚î¨ ‚î≠ ‚îÆ ‚îØ
    ‚î∞ ‚î± ‚î≤ ‚î≥ ‚î¥ ‚îµ ‚î∂ ‚î∑ ‚î∏ ‚îπ ‚î∫ ‚îª ‚îº ‚îΩ ‚îæ ‚îø
    ‚ïÄ ‚ïÅ ‚ïÇ ‚ïÉ ‚ïÑ ‚ïÖ ‚ïÜ ‚ïá ‚ïà ‚ïâ ‚ïä ‚ïã ‚ïå ‚ïç ‚ïé ‚ïè
    ‚ïê ‚ïë ‚ïí ‚ïì ‚ïî ‚ïï ‚ïñ ‚ïó ‚ïò ‚ïô ‚ïö ‚ïõ ‚ïú ‚ïù ‚ïû ‚ïü
    ‚ï† ‚ï° ‚ï¢ ‚ï£ ‚ï§ ‚ï• ‚ï¶ ‚ïß ‚ï® ‚ï© ‚ï™ ‚ï´ ‚ï¨ ‚ï≠ ‚ïÆ ‚ïØ
    ‚ï∞ ‚ï± ‚ï≤ ‚ï≥ ‚ï¥ ‚ïµ ‚ï∂ ‚ï∑ ‚ï∏ ‚ïπ ‚ï∫ ‚ïª ‚ïº ‚ïΩ ‚ïæ ‚ïø
</code></pre></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-01-10T03:13:15&#43;07:00">January 10, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/php/" rel="tag">Php</a>, 
		<a class="meta-tags__link" href="/tags/command-line/" rel="tag">Command line</a>, 
		<a class="meta-tags__link" href="/tags/preudographics/" rel="tag">Preudographics</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/instant-jun/">Instant Jun</a></h1>
	<div class="entry__content"><blockquote>
<p>It&rsquo;s possible to create artificial junior developer, but does it make any sence?</p>
</blockquote>
<h2 id="artificial-solution-for-artificial-problem">Artificial solution for artificial problem</h2>
<p>Recruiring agencies and recruits stuck in the dillema:</p>
<ul>
<li>Agencies tend to record as much recruis as possible, and ask them to compete for the job.</li>
<li>Recruits tend to apply to as much jobs as possible, and ask them to compete for the employee.</li>
</ul>
<p>Yes, that problem can be easily avoided by &ldquo;not doing that&rdquo;, but here we are.</p>
<p>Recruiting agencies try to create at least some funnel for the flood of applications, preferably, automated.
And now we have a lot of test systems which make no sence in terms of real IT tasks.</p>
<blockquote>
<p>Because, in real life, coding is the tiniest part of software development. Biggest part is interaction with the customer: defining the task details, working with feedback, analysis of limitations etc.</p>
</blockquote>
<p>But you are supposed to pass that useless tests anyway, just to reach someone compitent.</p>
<p>So, we have a task defined as a test case. Even more: we are absolutely sure that test is correct.</p>
<blockquote>
<p>If the task can be defined as a test case - it can be solved automatically.</p>
</blockquote>
<p>Developing tests and developing code is interchangable. We use <em>both</em> in Test Driven Development, because we might have an error in the test itself. We use code to check tests and tests to check the code. And push both parties forward in small steps.</p>
<p>But for recruiting tests thats not the case. We don&rsquo;t care about bugs in recruiting tests. We can&rsquo;t fix them anyway.
However, that means we should be able to solve that tests automatically.</p>
<h2 id="how">How?</h2>
<p>So let&rsquo;s check several approaches:</p>
<h3 id="bruteforce">Bruteforce</h3>
<p>We can just check all possible combinations of symbols, that will work, but it will take crazy amount of time. My solutions for tests like that are about 500 symbols in size, English alphabet + special symbols will be about 80 letters, so we have 80^500, combinations, thats approximately 3.5*10^931. Build and run tiny test program on my laptop will take about 0.5 second, so that&rsquo;s not acceptable solution.
If I will create a dictionary of words used in actual programs, that can be reduced to, like 10^200 seconds, but that&rsquo;s too much anyway.</p>
<h3 id="algorithmic-approach">Algorithmic approach</h3>
<p>We can reduce choises on each step of generations. For example, if we have <code>{</code> we have to have <code>}</code> later. Also, we can remove some operators like <code>goto</code> or <code>else</code>, as for we do not need them anyway. This way we will have a set of templates, which can be called recursively. That looks more promising, at least if we won&rsquo;t need to take all possible libraries in consideration.</p>
<h3 id="neural-net">Neural net</h3>
<p>Enter the elephant in the room: <a href="https://openai.com/blog/chatgpt/">https://openai.com/blog/chatgpt/</a></p>
<p>We can use GAN + additional automated tests (buid + run + check if results match). In GAN we have descriminator, but it has to output &ldquo;alikeness&rdquo; of generated solution, which is float, actual tests will gave us boolean. So we need to learn AI by set of examples. Luckely, we have a lot of opensource code everywhere.</p>
<h2 id="should-we">Should we?</h2>
<p>We definitely can, but should we waste our time on that stupidity? Yes, we can create AI to pass every test that recruiting agency can imagine, and we will bypass all time limitations smoothly and all attempts to check that we are &lsquo;real human beings&rsquo; including screen share and cameras etc etc. Because IT is our world, recruiters are aliens here.</p>
<p>But maybe we should teach them how to become native. How to rewiew the code. Learn them to look for methods, not instruments. Make the world better together.
Nope, that wont work )</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2023-01-02T12:56:17&#43;07:00">January 02, 2023</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/ai/" rel="tag">AI</a>, 
		<a class="meta-tags__link" href="/tags/code-generation/" rel="tag">Code generation</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/knockoutjs-is-nice/">Knockoutjs Is Nice</a></h1>
	<div class="entry__content"><p>I used that a while ago, but looks like it still alive üòä</p>
<p>Actually, I still think it&rsquo;s the best js UI framework, at least for a browser.</p>
<p>Why:</p>
<ul>
<li>MVVM is great, much better than &ldquo;state&rdquo; variable like in ReactJS or Vue.</li>
<li>It has nice publisher-subscriber implementation inside to serve data to controls, like &ldquo;normal&rdquo; ui applications for desktop.</li>
<li>Controls are louse coupled, almost independant from each other, yet can communicate</li>
<li>It&rsquo;s tiny!</li>
</ul>
<p>Latest realse is 2019-11-05, though.. 3 years ago, but just before covid lockdowns.</p>
<p>Link (mostly note for myself): <a href="https://knockoutjs.com/">https://knockoutjs.com/</a></p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2022-12-23T03:00:00&#43;07:00">December 23, 2022</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/javascript/" rel="tag">Javascript</a>, 
		<a class="meta-tags__link" href="/tags/knockoutjs/" rel="tag">Knockoutjs</a>, 
		<a class="meta-tags__link" href="/tags/note/" rel="tag">Note</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/unexpected-usefulness-of-hugo-offline-editing/">Unexpected usefulness of offline blogging with Hugo</a></h1>
	<div class="entry__content"><p>Life in changing. Internet evolve and become available everywhere.. suddenly, we are more and more offline.</p>
<p>When you have cable connection and expect to be online only in the office or at home - you are always online, always with good (or at least the same) speed. Then, mobile internet shine and at first it had affected only content reading, but not content creation.</p>
<p>But now, lifestyle itself changed and people become more mobile. More and more professions become remote. That lead to more travel. And more travel lead to more time offline. Quite often: unexpectedly offline. But you still have to do your remote work in time.</p>
<blockquote>
<p>Right now I&rsquo;m writing this post from airport. I don&rsquo;t have local sim yet, and airport wifi disconnects every hour.</p>
</blockquote>
<p>With Hugo I stll can work with my website. Local server let me check everything, I can fix elder posts, can work around SEO, can write new.</p>
<p>What can I do with oldschool CMS which require me to be online and with stable connection? Only teke some notes to copy-paste them into CMS and edit their look later. And even copy-paste can be harmful for website layout, as for lot&rsquo;s of CMS themes do not provide html validation and rely on WYSIWYG editors.</p>
<p>My flight was rescheduled twice and so back in Wordpress days I will lose 27 hours of working time. That&rsquo;s a lot!</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2022-11-23T14:21:51&#43;07:00">November 23, 2022</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/hugo/" rel="tag">Hugo</a>
	</span>
</div>
	</div>
</article>
				</div>
			
				<div class="card card--1col">
					<article class="entry card__box block">
	<h1 class="entry__title title-excerpt"><a class="entry__title-link" href="/post/spring-boot-app-to-kubernetes/">Spring Boot Multimodule App to Kubernetes</a></h1>
	<div class="entry__content"><blockquote>
<p><a href="/post/mvn.spring.boot.multimodule/">Previously on the series</a>
(I will use same setup)</p>
</blockquote>
<h2 id="create-docker-image">Create docker image</h2>
<pre><code>mvn -am -pl web spring-boot:build-image
</code></pre><p>Where <code>web</code> is subproject name. According to 12factor we have to use enviromnemt variables for connections, and we will propbably have at least jdbc connection to database,
so it becomes:</p>
<pre><code>DATASOURCE_URL=&quot;jdbc:mysql://localhost:3306/dbname&quot; \
DATASOURCE_USERNAME=&quot;username&quot; \
DATASOURCE_PASSWORD=&quot;password&quot; \
mvn -am -pl web spring-boot:build-image
</code></pre><p>(If it&rsquo;s not multimodule, just skip <code>-am -pl web</code>)</p>
<p>When build is finished, we should get in the output:</p>
<pre><code>Successfully built image 'docker.io/library/projectName:1.0-SNAPSHOT'
</code></pre><p>Whis image name can be used to run docker container</p>
<h2 id="run-in-docker">Run in docker</h2>
<pre><code>docker run --network=&quot;host&quot; \
    -e DATASOURCE_URL=&quot;jdbc:mysql://localhost:3306/dbname&quot; \
    -e DATASOURCE_USERNAME=&quot;username&quot; \
    -e DATASOURCE_PASSWORD=&quot;password&quot; \
    -p 8080:8080 \
    projectName:1.0-SNAPSHOT
</code></pre><p>Now we have the image, but kubernetes can&rsquo;t access it yet. Image has to be pushed to some <code>registry</code> or loaded into minikube directly like this:</p>
<h2 id="load-image-to-minikube">Load image to minikube</h2>
<pre><code>minikube image load projectName:1.0-SNAPSHOT
</code></pre><h2 id="generate-yaml-for-kubernetes-deployment">Generate .yaml for kubernetes deployment</h2>
<pre><code>kubectl create deployment \
    --image=projectName:1.0-SNAPSHOT \
    --dry-run=client \
    -o=yaml projectName &gt; projectName.yaml
echo --- &gt;&gt; projectName.yaml
kubectl create service clusterip projectName \
    --tcp=8080:8080 \
    --dry-run=client \
    -o=yaml &gt;&gt; projectName.yaml
</code></pre><h2 id="adjust-spectemplatespeccontainers">Adjust spec/template/spec/containers</h2>
<h3 id="disable-image-pull">Disable image pull</h3>
<p>As for we use local image we do not need kubernetes to pull it from Docker public registry.</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">imagePullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l">Never</span><span class="w">
</span></code></pre></div><h3 id="connection-to-external-database-on-localhost">Connection to external database on localhost</h3>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_URL</span><span class="w">
</span><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;jdbc:mysql://host.minikube.internal:3306/projectName&#34;</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_USERNAME</span><span class="w">
</span><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;projectName&#34;</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_PASSWORD</span><span class="w">
</span><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;projectName&#34;</span><span class="w">
</span></code></pre></div><p>Notice <code>host.minikube.internal</code> this is host name for your host machine, localhost will point to the pod itself (to guest vm).</p>
<h3 id="result-should-look-like-this">Result should look like this</h3>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">apps/v1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Deployment</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">creationTimestamp</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="w">  </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">  </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span><span class="w">  </span><span class="nt">template</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">creationTimestamp</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="w">      </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">    </span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">containers</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">projectName:1.0-SNAPSHOT</span><span class="w">
</span><span class="w">        </span><span class="nt">imagePullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l">Never</span><span class="w">
</span><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_URL</span><span class="w">
</span><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;jdbc:mysql://host.minikube.internal:3306/projectName&#34;</span><span class="w">
</span><span class="w">        </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_USERNAME</span><span class="w">
</span><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;projectName&#34;</span><span class="w">
</span><span class="w">        </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">DATASOURCE_PASSWORD</span><span class="w">
</span><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;projectName&#34;</span><span class="w">
</span><span class="w">        </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span>}<span class="w">
</span><span class="w"></span><span class="nt">status</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span><span class="w"></span><span class="nn">---</span><span class="w">
</span><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Service</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">creationTimestamp</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="m">8080-8080</span><span class="w">
</span><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8080</span><span class="w">
</span><span class="w">    </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l">TCP</span><span class="w">
</span><span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="m">8080</span><span class="w">
</span><span class="w">  </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">projectName</span><span class="w">
</span><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">ClusterIP</span><span class="w">
</span><span class="w"></span><span class="nt">status</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">loadBalancer</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span></code></pre></div><h2 id="apply-projectnameyaml">Apply projectName.yaml</h2>
<pre><code>kubectl apply -f projectName.yaml
</code></pre><p>After that <code>kubectl get pods</code> should return list of pods with state <code>Running</code> next to <code>projectName-XXXXXXX-XXX</code></p>
<h2 id="view-logs">View logs</h2>
<pre><code>kubectl logs POD_NAME
</code></pre><p>Will shouw you console output, like</p>
<pre><code>  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.4)

...
2022-11-20 06:00:24.718  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-11-20 06:00:24.730  INFO 1 --- [           main] org.Application       : Started Application in 4.718 seconds (JVM running for 4.967)
</code></pre><p>Or some errors if any.</p>
<p>Now pod is running, but it lives iside the cluster, so we need to get access from the outside.</p>
<h2 id="access-service-through-proxy">Access service through proxy</h2>
<pre><code>kubectl port-forward svc/projectName 8080:8080
</code></pre><p>Now you should be able to connect to your spring-boot application using http://localhost:8080</p></div>
	<div class="entry__meta meta mt tar">
	<time class="entry__meta-published meta-published" datetime="2022-11-20T10:20:49&#43;07:00">November 20, 2022</time>
<div class="entry__meta-tags meta-tags">
	<span class="meta-tags__list">Tags:
		<a class="meta-tags__link" href="/tags/kubernetes/" rel="tag">Kubernetes</a>, 
		<a class="meta-tags__link" href="/tags/java/" rel="tag">Java</a>, 
		<a class="meta-tags__link" href="/tags/spring/" rel="tag">Spring</a>, 
		<a class="meta-tags__link" href="/tags/microservice/" rel="tag">Microservice</a>
	</span>
</div>
	</div>
</article>
				</div>
			
		</div>
	</main>
	
<div class="pagination block">
				<span class="pagination__item pagination__item--active" data-total="2">1</span>
				<a class="pagination__item pagination__item--desktop" href="/post/page/2/">2</a>
</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/snowyurik">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
</div>
	<div class="footer__copyright">¬© 2023 Snowyurik&#39;s Blog. <span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span></div>
</footer>
<script src="/js/menu.js"></script>
</body>
</html>